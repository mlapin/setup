\ProvidesPackage{preamble}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}

\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{accents}
\usepackage{bbm} % bold fonts
\usepackage{booktabs} % tables
%\usepackage{caption} % use of caption is not recommended
\usepackage{color}
\usepackage{colortbl}
%\usepackage{commath} % partial derivs: \pd[2]{f}{x}, \md{f}{5}{x}{2}{y}{3}
%\usepackage{comment} % conditionally exclude parts (e.g. proofs)
%\usepackage{dsfont} % for \mathds{1}, for \ind
%\usepackage{fancyhdr}
%\usepackage{footnote}
\usepackage{graphicx}
%\usepackage{hyperref}
\usepackage{ifpdf}
%\usepackage{layouts} % print page width/height
%\usepackage{mathtools}
\usepackage{multirow} % span multiple rows/columns
%\usepackage{natbib}
%\usepackage{nicefrac} % typeset fractions as a/b
%\usepackage{nth} % usage: \nth{3}
%\usepackage{relsize} % set the font size relative to the current font size
%\usepackage{rotating} % rotate any object
%\usepackage{skmath} % alternative to commath
%\usepackage{subcaption}
%\usepackage{subfig} % floating figures
%\usepackage{subfigure}
%\usepackage{tablefootnote}
%\usepackage{textcomp} % supports the Text Companion fonts
%\usepackage{times}
\usepackage{url} % show tilde in urls properly
%\usepackage{wrapfig}
%\usepackage{xargs} % multiple default args in commands
\usepackage{xspace}

\graphicspath{{.}{figures/}{images/}}
\DeclareGraphicsExtensions{.pdf,.png,.jpg}

\newcommand{\highlight}[1]{\colorbox{yellow}{#1}}

% Undefine possibly colliding commands
\let\vs\@undefined
\let\V\@undefined

\mathchardef\mhyphen="2D


% Vectors and matrices
\newcommand{\vect}[1]{\mathchoice
{\mbox{\boldmath$\displaystyle#1$}}
{\mbox{\boldmath$\textstyle#1$}}
{\mbox{\boldmath$\scriptstyle#1$}}
{\mbox{\boldmath$\scriptscriptstyle#1$}}}
\newcommand{\mat}[1]{\mathbf{#1}}


% Shorthands
% Add a period to the end of an abbreviation unless there's one
% already, then \xspace.
\makeatletter
\@ifundefined{onedot}{%
\DeclareRobustCommand\onedot{\futurelet\@let@token\@onedot}%
\def\@onedot{\ifx\@let@token.\else.\null\fi\xspace}%
}{}
\makeatother

\providecommand{\bydef}{\triangleq}
\providecommand{\eg}{e.g\onedot}
\providecommand{\Eg}{E.g\onedot}
\providecommand{\ie}{i.e\onedot}
\providecommand{\Ie}{I.e\onedot}
\providecommand{\cf}{cf\onedot}
\providecommand{\Cf}{Cf\onedot}
\providecommand{\iid}{i.i.d\onedot}
\providecommand{\IID}{IID}
\providecommand{\aka}{a.k.a\onedot}
\providecommand{\wrt}{w.r.t\onedot}
\providecommand{\etal}{et al\onedot}
\providecommand{\todo}{\textcolor{red}{TODO:}\xspace}
\providecommand{\V}{vs\onedot}

% Linear Algebra and Arithmetic
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\avg}{avg}
\DeclareMathOperator{\mean}{mean}
\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\proj}{proj}
\DeclareMathOperator{\Null}{\mathcal{N}}
\DeclareMathOperator{\Range}{\mathcal{R}}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Img}{Im}
\newcommand{\ones}{\mathbf{1}}
\newcommand{\zeros}{\mathbf{0}}
\newcommand{\Id}{\mathbf{I}}
\newcommand{\Eye}{\mathbf{I}}
\newcommand{\ind}[1]{\mathbbm{1}_{#1}}
%\newcommand{\ind}[1]{\mathrm{\iota}_{\left[#1\right]}}
\newcommand{\pinv}[1]{#1^{\dagger}}
\newcommand{\tra}[1]{#1^{\top}}
\newcommand{\ort}[1]{#1^{\bot}}
\newcommand{\para}[1]{#1^{\parallel}}
\newcommand{\wo}[2]{#1^{\setminus #2}}

% Probability and Statistics
\DeclareMathOperator{\Prob}{{\rm P}}
\DeclareMathOperator{\Prr}{P}
\DeclareMathOperator{\Prb}{\mathbb{P}}
\DeclareMathOperator{\Exp}{\mathbb{E}}
\DeclareMathOperator{\Vrb}{\mathbb{V}}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator{\Cov}{Cov}
\DeclareMathOperator{\err}{err}
\DeclareMathOperator{\Norm}{\mathcal{N}}
\newcommand{\given}{\nonscript\,%
\ifnum\currentgrouptype=16\middle|%
\else|\fi\nonscript\,}


% Optimization
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argsort}{arg\,sort}
\DeclareMathOperator*{\essinf}{ess\,inf}
\DeclareMathOperator*{\esssup}{ess\,sup}
\DeclareMathOperator{\grad}{\nabla\!}
\newcommand{\Max}[1]{\underset{#1}{\text{maximize}}}
\newcommand{\Min}[1]{\underset{#1}{\text{minimize}}}
\newcommand{\subjto}{\text{subject to}}
\newcommand{\st}{\text{s.t.}}


% Norms and Inner products
\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\absn}[1]{|#1|}
\newcommand{\absb}[1]{\big|#1\big|}
\newcommand{\absB}[1]{\Big|#1\Big|}
\newcommand{\absl}[1]{\large|#1\large|}
\newcommand{\absL}[1]{\Large|#1\Large|}
\newcommand{\norm}[1]{\left\|#1\right\|}
\newcommand{\normn}[1]{\|#1\|}
\newcommand{\normb}[1]{\big\|#1\big\|}
\newcommand{\normB}[1]{\Big\|#1\Big\|}
\newcommand{\norml}[1]{\large\|#1\large\|}
\newcommand{\normL}[1]{\Large\|#1\Large\|}
\newcommand{\normf}[1]{\left\|#1\right\|_{F}}
\newcommand{\norms}[1]{\norm{#1}^{2}}
\newcommand{\normsn}[1]{\normn{#1}^{2}}
\newcommand{\normsb}[1]{\normb{#1}^{2}}
\newcommand{\normsB}[1]{\normB{#1}^{2}}
\newcommand{\normsl}[1]{\norml{#1}^{2}}
\newcommand{\normsL}[1]{\normL{#1}^{2}}
\newcommand{\normi}[1]{\inner{#1,#1}}
\newcommand{\normin}[1]{\innern{#1,#1}}
\newcommand{\normib}[1]{\innerb{#1,#1}}
\newcommand{\normiB}[1]{\innerB{#1,#1}}
\newcommand{\normil}[1]{\innerl{#1,#1}}
\newcommand{\normiL}[1]{\innerL{#1,#1}}
\newcommand{\inner}[1]{\left\langle#1\right\rangle}
\newcommand{\innern}[1]{\langle#1\rangle}
\newcommand{\innerb}[1]{\big\langle#1\big\rangle}
\newcommand{\innerB}[1]{\Big\langle#1\Big\rangle}
\newcommand{\innerl}[1]{\large\langle#1\large\rangle}
\newcommand{\innerL}[1]{\Large\langle#1\Large\rangle}


% Empirical Risk Minimization
\newcommand{\loss}{\ell}
\newcommand{\vloss}{\vect{\ell}}
\newcommand{\vell}{\vect{\ell}}


% Theorem Environments
\newtheorem{acknowledgement}{Acknowledgement}
%\newtheorem{algorithm}{Algorithm}
\newtheorem{axiom}{Axiom}
\newtheorem{case}{Case}
\newtheorem{claim}{Claim}
\newtheorem{conclusion}{Conclusion}
\newtheorem{condition}{Condition}
\newtheorem{conjecture}{Conjecture}
\newtheorem{corollary}{Corollary}
\newtheorem{criterion}{Criterion}
\newtheorem{definition}{Definition}
\newtheorem{example}{Example}
\newtheorem{exercise}{Exercise}
\newtheorem{lemma}{Lemma}
\newtheorem{notation}{Notation}
\newtheorem{problem}{Problem}
\newtheorem{proposition}{Proposition}
\newtheorem{remark}{Remark}
\newtheorem{solution}{Solution}
\newtheorem{summary}{Summary}
\newtheorem{theorem}{Theorem}
\newtheorem{question}{Question}

\newtheorem*{acknowledgement*}{Acknowledgement}
%\newtheorem*{algorithm*}{Algorithm}
\newtheorem*{axiom*}{Axiom}
\newtheorem*{case*}{Case}
\newtheorem*{claim*}{Claim}
\newtheorem*{conclusion*}{Conclusion}
\newtheorem*{condition*}{Condition}
\newtheorem*{conjecture*}{Conjecture}
\newtheorem*{corollary*}{Corollary}
\newtheorem*{criterion*}{Criterion}
\newtheorem*{definition*}{Definition}
\newtheorem*{example*}{Example}
\newtheorem*{exercise*}{Exercise}
\newtheorem*{lemma*}{Lemma}
\newtheorem*{notation*}{Notation}
\newtheorem*{problem*}{Problem}
\newtheorem*{proposition*}{Proposition}
\newtheorem*{remark*}{Remark}
\newtheorem*{solution*}{Solution}
\newtheorem*{summary*}{Summary}
\newtheorem*{theorem*}{Theorem}
\newtheorem*{question*}{Question}

% Characters
\newcommand{\Ab}{\mathbb{A}}
\newcommand{\Bb}{\mathbb{B}}
\newcommand{\Cb}{\mathbb{C}}
\newcommand{\Db}{\mathbb{D}}
\newcommand{\Eb}{\mathbb{E}}
\newcommand{\Fb}{\mathbb{F}}
\newcommand{\Gb}{\mathbb{G}}
\newcommand{\Hb}{\mathbb{H}}
\newcommand{\Ib}{\mathbb{I}}
\newcommand{\Jb}{\mathbb{J}}
\newcommand{\Kb}{\mathbb{K}}
\newcommand{\Lb}{\mathbb{L}}
\newcommand{\Mb}{\mathbb{M}}
\newcommand{\Nb}{\mathbb{N}}
\newcommand{\Ob}{\mathbb{O}}
\newcommand{\Pb}{\mathbb{P}}
\newcommand{\Qb}{\mathbb{Q}}
\newcommand{\Rb}{\mathbb{R}}
\newcommand{\Sb}{\mathbb{S}}
\newcommand{\Tb}{\mathbb{T}}
\newcommand{\Ub}{\mathbb{U}}
\newcommand{\Vb}{\mathbb{V}}
\newcommand{\Wb}{\mathbb{W}}
\newcommand{\Xb}{\mathbb{X}}
\newcommand{\Yb}{\mathbb{Y}}
\newcommand{\Zb}{\mathbb{Z}}

\newcommand{\Ac}{\mathcal{A}}
\newcommand{\Bc}{\mathcal{B}}
\newcommand{\Cc}{\mathcal{C}}
\newcommand{\Dc}{\mathcal{D}}
\newcommand{\Ec}{\mathcal{E}}
\newcommand{\Fc}{\mathcal{F}}
\newcommand{\Gc}{\mathcal{G}}
\newcommand{\Hc}{\mathcal{H}}
\newcommand{\Ic}{\mathcal{I}}
\newcommand{\Jc}{\mathcal{J}}
\newcommand{\Kc}{\mathcal{K}}
\newcommand{\Lc}{\mathcal{L}}
\newcommand{\Mc}{\mathcal{M}}
\newcommand{\Nc}{\mathcal{N}}
\newcommand{\Oc}{\mathcal{O}}
\newcommand{\Pc}{\mathcal{P}}
\newcommand{\Qc}{\mathcal{Q}}
\newcommand{\Rc}{\mathcal{R}}
\newcommand{\Sc}{\mathcal{S}}
\newcommand{\Tc}{\mathcal{T}}
\newcommand{\Uc}{\mathcal{U}}
\newcommand{\Vc}{\mathcal{V}}
\newcommand{\Wc}{\mathcal{W}}
\newcommand{\Xc}{\mathcal{X}}
\newcommand{\Yc}{\mathcal{Y}}
\newcommand{\Zc}{\mathcal{Z}}

\newcommand{\mA}{\mat{A}}
\newcommand{\mB}{\mat{B}}
\newcommand{\mC}{\mat{C}}
\newcommand{\mD}{\mat{D}}
\newcommand{\mE}{\mat{E}}
\newcommand{\mF}{\mat{F}}
\newcommand{\mG}{\mat{G}}
\newcommand{\mH}{\mat{H}}
\newcommand{\mI}{\mat{I}}
\newcommand{\mJ}{\mat{J}}
\newcommand{\mK}{\mat{K}}
\newcommand{\mL}{\mat{L}}
\newcommand{\mM}{\mat{M}}
\newcommand{\mN}{\mat{N}}
\newcommand{\mO}{\mat{O}}
\newcommand{\mP}{\mat{P}}
\newcommand{\mQ}{\mat{Q}}
\newcommand{\mR}{\mat{R}}
\newcommand{\mS}{\mat{S}}
\newcommand{\mT}{\mat{T}}
\newcommand{\mU}{\mat{U}}
\newcommand{\mV}{\mat{V}}
\newcommand{\mW}{\mat{W}}
\newcommand{\mX}{\mat{X}}
\newcommand{\mY}{\mat{Y}}
\newcommand{\mZ}{\mat{Z}}

\newcommand{\va}{\vect{a}}
\newcommand{\vb}{\vect{b}}
\newcommand{\vc}{\vect{c}}
\newcommand{\vd}{\vect{d}}
\newcommand{\ve}{\vect{e}}
\newcommand{\vf}{\vect{f}}
\newcommand{\vg}{\vect{g}}
\newcommand{\vh}{\vect{h}}
\newcommand{\vi}{\vect{i}}
\newcommand{\vj}{\vect{j}}
\newcommand{\vk}{\vect{k}}
\newcommand{\vl}{\vect{l}}
\newcommand{\vm}{\vect{m}}
\newcommand{\vn}{\vect{n}}
\newcommand{\vo}{\vect{o}}
\newcommand{\vp}{\vect{p}}
\newcommand{\vq}{\vect{q}}
\newcommand{\vr}{\vect{r}}
\newcommand{\vs}{\vect{s}}
\newcommand{\vt}{\vect{t}}
\newcommand{\vu}{\vect{u}}
\newcommand{\vv}{\vect{v}}
\newcommand{\vw}{\vect{w}}
\newcommand{\vx}{\vect{x}}
\newcommand{\vy}{\vect{y}}
\newcommand{\vz}{\vect{z}}

\newcommand{\Alpha}{A}
\newcommand{\Beta}{B}
\newcommand{\Epsilon}{E}
\newcommand{\Zeta}{Z}
\newcommand{\Eta}{H}
\newcommand{\Iota}{I}
\newcommand{\Kappa}{K}
\newcommand{\Mu}{M}
\newcommand{\Nu}{N}
\newcommand{\Omicron}{O}
\newcommand{\Rho}{P}
\newcommand{\Tau}{T}
\newcommand{\Chi}{X}

\newcommand{\omicron}{o}

\newcommand{\mAlpha}{\mat{\Alpha}}
\newcommand{\mBeta}{\mat{\Beta}}
\newcommand{\mGamma}{\mat{\Gamma}}
\newcommand{\mDelta}{\mat{\Delta}}
\newcommand{\mEpsilon}{\mat{\Epsilon}}
\newcommand{\mZeta}{\mat{\Zeta}}
\newcommand{\mEta}{\mat{\Eta}}
\newcommand{\mTheta}{\mat{\Theta}}
\newcommand{\mIota}{\mat{\Iota}}
\newcommand{\mKappa}{\mat{\Kappa}}
\newcommand{\mLambda}{\mat{\Lambda}}
\newcommand{\mMu}{\mat{\Mu}}
\newcommand{\mNu}{\mat{\Nu}}
\newcommand{\mXi}{\mat{\Xi}}
\newcommand{\mOmicron}{\mat{\Omicron}}
\newcommand{\mPi}{\mat{\Pi}}
\newcommand{\mRho}{\mat{\Rho}}
\newcommand{\mSigma}{\mat{\Sigma}}
\newcommand{\mTau}{\mat{\Tau}}
\newcommand{\mUpsilon}{\mat{\Upsilon}}
\newcommand{\mPhi}{\mat{\Phi}}
\newcommand{\mChi}{\mat{\Chi}}
\newcommand{\mPsi}{\mat{\Psi}}
\newcommand{\mOmega}{\mat{\Omega}}

\newcommand{\valpha}{\vect{\alpha}}
\newcommand{\vbeta}{\vect{\beta}}
\newcommand{\vgamma}{\vect{\gamma}}
\newcommand{\vdelta}{\vect{\delta}}
\newcommand{\vepsilon}{\vect{\epsilon}}
\newcommand{\vvarepsilon}{\vect{\varepsilon}}
\newcommand{\vzeta}{\vect{\zeta}}
\newcommand{\veta}{\vect{\eta}}
\newcommand{\vtheta}{\vect{\theta}}
\newcommand{\viota}{\vect{\iota}}
\newcommand{\vkappa}{\vect{\kappa}}
\newcommand{\vlambda}{\vect{\lambda}}
\newcommand{\vmu}{\vect{\mu}}
\newcommand{\vnu}{\vect{\nu}}
\newcommand{\vxi}{\vect{\xi}}
\newcommand{\vomicron}{\vect{\omicron}}
\newcommand{\vpi}{\vect{\pi}}
\newcommand{\vrho}{\vect{\rho}}
\newcommand{\vsigma}{\vect{\sigma}}
\newcommand{\vtau}{\vect{\tau}}
\newcommand{\vupsilon}{\vect{\upsilon}}
\newcommand{\vphi}{\vect{\phi}}
\newcommand{\vchi}{\vect{\chi}}
\newcommand{\vpsi}{\vect{\psi}}
\newcommand{\vomega}{\vect{\omega}}
